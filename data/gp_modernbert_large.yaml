experiment:
  exp_dir: /root/cjr/projects/LCNER/experiments
  exp_name: gp_modernbert_large_20250110data
  seed: 42

task: named-entity-recognition

dataset:
  data_file:
    # test: /root/cjr/data/splitdata/1206check_modified_test_1224.json
    # train: /root/cjr/data/splitdata/1206check_modified_train_1224.json
    # valid: /root/cjr/data/splitdata/1206check_modified_test_1224.json
    test: /root/cjr/data/splitdata/20250110check_modified_test.json
    train: /root/cjr/data/splitdata/20250110check_modified_train.json
    valid: /root/cjr/data/splitdata/20250110check_modified_test.json
  data_type: json_spans
  delimiter: ' '
  labels:
    type: count_span_labels

preprocessor:
  type: span-extraction-preprocessor
  max_length: 500

data_collator: SpanExtractionDataCollatorWithPadding

model:
  type: global-pointer-model
  embedder:
    model_name_or_path: /root/cjr/projects/LCNER/adaseq/pretrained-models/ModernBERT-large
    transformer_kwargs: 
      trust_remote_code: true
  token_ffn_out_width: 64
  word_dropout: 0.1
train:
  max_epochs: 12
  dataloader:
    batch_size_per_gpu: 16
  optimizer:
    type: AdamW
    lr: 4.0e-5
    # options: 
    #   # gradient cumulative interval, default 1
    #   cumulative_iters: 2
  logging: 
      # 是否按照epoch进行logging，false为按照iter
    # by_epoch: true
      # logging的间隔
    interval: 1

      

  lr_scheduler:
    type: LinearLR
    start_factor: 1.0
    end_factor: 0.0
    total_iters: 10

evaluation:
  dataloader:
    batch_size_per_gpu: 64
  metrics:
    - type: span-extraction-metric
    - type: ner-dumper
      model_type: span_based
      dump_format: jsonline
